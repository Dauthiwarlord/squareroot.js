<!DOCTYPE html>
<html>
<head>
    <title>Virtual scroll platform test | v0.1</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable = no">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

    <style type="text/css">

    	body {
    		background-color: #000;
    		margin: 20px;
    		color: #fff;
    		font-family: monospace;
    		overflow: hidden;
    	}

    	div {
    		margin-top: 10px;
    	}

    	#debug {
    		line-height: 1.4em;
    	}

    </style>

<!-- SQRLIB -->
<!-- Auto-generated by tools/demojstags.py. Do not edit this section -->
<script type="text/javascript" src="../../build/squareroot-min.js"></script>
<!-- SQRLIB -->

<script type="text/javascript" src="../../lib/VirtualScroll.js"></script>

</head>
<body>

	<div id="rec">false</div>
	<div id="pos-x">0</div>
	<div id="delta-x">0</div>
	<div id="max-x">0</div>
	<div id="pos-y">0</div>
	<div id="delta-y">0</div>
	<div id="max-y">0</div>
	<div id="listener">none</div>
	<div id="debug"></div>

	<script type="text/javascript">

		var _rec = document.querySelector("#rec");
		var _posx = document.querySelector("#pos-x");
		var _deltax = document.querySelector("#delta-x");
		var _maxx = document.querySelector("#max-x");
		var _posy = document.querySelector("#pos-y");
		var _deltay = document.querySelector("#delta-y");
		var _maxy = document.querySelector("#max-y");
		var _list = document.querySelector("#listener");
		var _debug = document.querySelector("#debug");

		var maxx = 0, maxy = 0;

		var didLogEvent = false;

		VirtualScroll.addEventListener(function(e) {

			maxx = Math.max(Math.abs(e.deltaX), maxx);
			maxy = Math.max(Math.abs(e.deltaY), maxy);

			_rec.innerHTML = "RC: true";

			_posx.innerHTML = "PX: " + e.x;
			_posy.innerHTML = "PY: " + e.y;

			_deltax.innerHTML = "DX: " + e.deltaX;
			_deltay.innerHTML = "DY: " + e.deltaY;

			_maxx.innerHTML = "MX: " + maxx;
			_maxy.innerHTML = "MY: " + maxy;

			_list.innerHTML = "LS: " + VirtualScroll.whichListener.join(", ");

			if(!didLogEvent) {
				didLogEvent = true;
				console.log(e.originalEvent);
			}
		});

		_debug.innerHTML += "User-agent: " + navigator.userAgent + "<br>";
		_debug.innerHTML += "wheel: " + ('onwheel' in document) + "<br>";
		_debug.innerHTML += "mousewheel: " + ('onmousewheel' in document) + "<br>";
		_debug.innerHTML += "touchstart: " + ('ontouchstart' in document) + "<br>";
		_debug.innerHTML += "touchmove: " + ('ontouchmove' in document) + "<br>";

	</script>

</body>
</html>













