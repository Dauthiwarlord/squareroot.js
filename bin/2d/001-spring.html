<!DOCTYPE html>
<html>
<head>
    <title>Spring motion | v0.1</title>

    <style type="text/css">

        body {
            background-color: #483d8b;
        }

        #cnv {
            position: absolute;
            top: 0px;
            left: 0px;
            background-color: #ffffff;
        }

    </style>

<!-- SQRLIB -->
<!-- Auto-generated by tools/demojstags.py. Do not edit this section -->
<script type="text/javascript" src="../../lib/requestAnimFrame.js"></script>
<script type="text/javascript" src="../../src/SQR.js"></script>
<script type="text/javascript" src="../../src/color/Color.js"></script>
<script type="text/javascript" src="../../src/math/Interpolation.js"></script>
<script type="text/javascript" src="../../src/math/Mathx.js"></script>
<script type="text/javascript" src="../../src/math/Matrix2D.js"></script>
<script type="text/javascript" src="../../src/math/Matrix33.js"></script>
<script type="text/javascript" src="../../src/math/Matrix44.js"></script>
<script type="text/javascript" src="../../src/math/Noise.js"></script>
<script type="text/javascript" src="../../src/math/PerlinNoise.js"></script>
<script type="text/javascript" src="../../src/math/ProjectionMatrix.js"></script>
<script type="text/javascript" src="../../src/math/QuadraticBezier.js"></script>
<script type="text/javascript" src="../../src/math/Quaternion.js"></script>
<script type="text/javascript" src="../../src/math/Spline.js"></script>
<script type="text/javascript" src="../../src/math/Spring.js"></script>
<script type="text/javascript" src="../../src/math/Vector2.js"></script>
<script type="text/javascript" src="../../src/math/Vector3.js"></script>
<script type="text/javascript" src="../../src/math/VectorUtil.js"></script>
<script type="text/javascript" src="../../src/sqr/Geometry.js"></script>
<script type="text/javascript" src="../../src/sqr/Squareroot.js"></script>
<script type="text/javascript" src="../../src/sqr/Transform.js"></script>
<script type="text/javascript" src="../../src/sqr/objects/Particle2D.js"></script>
<script type="text/javascript" src="../../src/sqr/objects/Plane.js"></script>
<script type="text/javascript" src="../../src/sqr/objects/Quad.js"></script>
<script type="text/javascript" src="../../src/sqr/objects/Triangle.js"></script>
<script type="text/javascript" src="../../src/sqr/physics/CSSCollider.js"></script>
<script type="text/javascript" src="../../src/sqr/renderers/DOMElement2D.js"></script>
<script type="text/javascript" src="../../src/sqr/renderers/DOMElement3D.js"></script>
<script type="text/javascript" src="../../src/sqr/renderers/Particle.js"></script>
<script type="text/javascript" src="../../src/sqr/renderers/Polygon.js"></script>
<script type="text/javascript" src="../../src/sqr/renderers/Segment.js"></script>
<script type="text/javascript" src="../../src/sqr/util/CanvasUtil.js"></script>
<script type="text/javascript" src="../../src/sqr/util/DOMUtil.js"></script>
<script type="text/javascript" src="../../src/sqr/util/Interactor.js"></script>
<script type="text/javascript" src="../../src/sqr/util/Stringify.js"></script>
<script type="text/javascript" src="../../src/sqr/util/Time.js"></script>
<!-- SQRLIB -->

    <script type="text/javascript">

        var ctx, sp;

        SpringImage = function() {

            var spring = new SQR.Spring();

            this.draw = function(ctx) {

                spring.update();

                ctx.clearRect(0, 0, 800, 450);

                ctx.strokeStyle = 'rgb(0,0,0)';
                ctx.fillStyle = 'rgb(0,0,0)';

                ctx.beginPath();
                ctx.moveTo(spring.anchor.x, spring.anchor.y);
                ctx.lineTo(spring.location.x, spring.location.y);
                ctx.stroke();

                ctx.beginPath();
                ctx.arc(spring.location.x, spring.location.y, 10, 0, Math.PI * 2);
                ctx.stroke();

            }

            this.moveAnchor = function(x, y) {
                spring.anchor.x = x;
                spring.anchor.y = y;
            }

        }

        window.onload = function() {

            ctx = document.getElementById('cnv').getContext('2d');
            sp = new SpringImage();

            document.addEventListener('click', onClick, false);
            draw();
            
        }

        function onClick(e) {
            sp.moveAnchor(e.pageX, e.pageY);
        }

        function draw() {
            requestAnimFrame(draw);
            sp.draw(ctx);
        }

    </script>

</head>
<body>
<div id="container">
    <canvas id="cnv" width="800" height="450">
</div>
</body>
</html>

















